# FxLabs Prime Backend Configuration (now tenant-aware)
# Copy this file to .env and update with your actual values

# No TENANT variable required in .env; use fxlabs-server.py / hextech-server.py

# API Authentication
API_TOKEN=your_api_token_here

# Debug API (Bearer token for all /api/debug/* endpoints)
DEBUG_API_TOKEN=your_debug_api_token_here

# CORS Configuration (comma-separated origins)
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# MT5 Terminal Path (optional - leave empty for auto-detection)
MT5_TERMINAL_PATH=C:/Program Files/MetaTrader 5/terminal64.exe

# Server Configuration
HOST=127.0.0.1
PORT=8000

# News Analysis Configuration
PERPLEXITY_API_KEY=your_perplexity_api_key
# ASOasis Forex Calendar (today; IST)
ASOASIS_API_FOREX_NEWS_ENDPOINT=https://api.asoasis.tech/forex-calender/today?timezone=Asia/Kolkata
ASOASIS_API_FOREX_NEWS_CLIENT_ID=your_client_id
ASOASIS_API_FOREX_NEWS_CLIENT_SECRET=your_client_secret
NEWS_UPDATE_INTERVAL_HOURS=0.5
NEWS_CACHE_MAX_ITEMS=500
# Optional: persistent news cache file path (defaults to project/news_cache.json)
NEWS_CACHE_FILE=/absolute/or/relative/path/to/news_cache.json

# Supabase Configuration (required). Prefer per-tenant variables below; base keys remain for backward compatibility.
SUPABASE_URL=
SUPABASE_SERVICE_KEY=
# Used to authorize `subscription_check-by-email` before sending emails (fail-open when unset).
SUPABASE_PUBLIC_ANON_KEY=

# Optional: per-tenant overrides (used by fxlabs-server.py / hextech-server.py)
# FxLabs Prime
FXLABS_SUPABASE_URL=https://your-fxlabs.supabase.co
FXLABS_SUPABASE_SERVICE_KEY=
FXLABS_SENDGRID_API_KEY=
FXLABS_FROM_EMAIL=alerts@fxlabsprime.com
FXLABS_FROM_NAME=FxLabs Prime Alerts
FXLABS_PUBLIC_BASE_URL=https://api.fxlabsprime.com
FXLABS_DAILY_TZ_NAME=Asia/Kolkata
FXLABS_DAILY_SEND_LOCAL_TIME=09:00

# HexTech (placeholders; fill when provisioning)
HEXTECH_SUPABASE_URL=
HEXTECH_SUPABASE_SERVICE_KEY=
HEXTECH_SENDGRID_API_KEY=
HEXTECH_FROM_EMAIL=
HEXTECH_FROM_NAME=
HEXTECH_PUBLIC_BASE_URL=
HEXTECH_DAILY_TZ_NAME=Asia/Dubai
HEXTECH_DAILY_SEND_LOCAL_TIME=09:00

# Email configuration is tenant-specific only (no global defaults)

# Public URL for links in emails (no trailing slash)
PUBLIC_BASE_URL=

# Tracker Pairs: fixed in code; no environment overrides required

# Heatmap defaults
HEATMAP_TRACKER_DEFAULT_PAIRS=EURUSD,GBPUSD,USDJPY

# Diagnostics & Logging (optional)
# - LIVE_RSI_DEBUGGING: print periodic closed-bar RSI for BTC/USD 1M (default false)
# - LOG_ENV_DUMP: dump full environment at startup (default false; may include secrets)
# - ALERT_VERBOSE_LOGS: enable non-critical alert/daily logs (default false)
#   When true (and with LOG_LEVEL=DEBUG), Heatmap Tracker emits detailed evaluation logs per pair:
#   pair_eval_start, pair_eval_metrics, pair_eval_criteria, pair_rearm, pair_eval_decision, heatmap_no_trigger
# - NEWS_VERBOSE_LOGS: enable verbose news fetch/parse/update prints (default false)
# - BYPASS_EMAIL_ALERTS: bypass all email alerts and log when alerts are bypassed (default false)
LIVE_RSI_DEBUGGING=false
LOG_ENV_DUMP=false
ALERT_VERBOSE_LOGS=false
NEWS_VERBOSE_LOGS=false
BYPASS_EMAIL_ALERTS=false

# Root logger level: INFO by default. Set to DEBUG to see detailed diagnostics
# including heatmap cooldown-skip lines (`heatmap_cd_skip`).
LOG_LEVEL=INFO

# Indicator cache
# Max number of recent indicator values (closed-bar) kept per (symbol,timeframe,params)
INDICATOR_RING_SIZE=256
